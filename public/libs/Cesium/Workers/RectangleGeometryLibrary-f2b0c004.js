define(["exports","./Cartesian2-c2e87f25","./when-a8daa614","./Check-3a7033c5","./Transforms-d7f8120c","./Math-9c4212b4","./GeometryAttribute-c85c47e3"],(function(t,n,a,r,e,o,s){"use strict";var i=Math.cos,g=Math.sin,c=Math.sqrt,h={computePosition:function(t,n,r,e,o,s,h){var u=n.radiiSquared,C=t.nwCorner,l=t.boundingRectangle,S=C.latitude-t.granYCos*e+o*t.granXSin,d=i(S),w=g(S),M=u.z*w,X=C.longitude+e*t.granYSin+o*t.granXCos;n=d*i(X),C=d*g(X),d=u.x*n,u=u.y*C,w=c(d*n+u*C+M*w);s.x=d/w,s.y=u/w,s.z=M/w,r&&(r=t.stNwCorner,a.defined(r)?(S=r.latitude-t.stGranYCos*e+o*t.stGranXSin,X=r.longitude+e*t.stGranYSin+o*t.stGranXCos,h.x=(X-t.stWest)*t.lonScalar,h.y=(S-t.stSouth)*t.latScalar):(h.x=(X-l.west)*t.lonScalar,h.y=(S-l.south)*t.latScalar))}},u=new s.Matrix2,C=new n.Cartesian3,l=new n.Cartographic,S=new n.Cartesian3,d=new e.GeographicProjection;function w(t,a,r,e,o,i,g){var c=Math.cos(a),h=e*c,l=r*c,w=Math.sin(a),M=e*w,X=r*w;return C=d.project(t,C),C=n.Cartesian3.subtract(C,S,C),c=s.Matrix2.fromRotation(a,u),C=s.Matrix2.multiplyByVector(c,C,C),C=n.Cartesian3.add(C,S,C),r=(e=(t=d.unproject(C,t)).latitude)+--i*X,w=e-h*--g,a=e-h*g+i*X,c=Math.max(e,r,w,a),e=Math.min(e,r,w,a),w=(r=t.longitude)+i*l,a=r+g*M,i=r+g*M+i*l,{north:c,south:e,east:Math.max(r,w,a,i),west:Math.min(r,w,a,i),granYCos:h,granYSin:M,granXCos:l,granXSin:X,nwCorner:t}}h.computeOptions=function(t,a,r,e,s,i,g){var c=t.east,h=t.west,u=t.north,C=t.south,M=!1,X=!1;u===o.CesiumMath.PI_OVER_TWO&&(M=!0),C===-o.CesiumMath.PI_OVER_TWO&&(X=!0);var Y,m=u-C,p=(G=c<h?o.CesiumMath.TWO_PI-h+c:c-h)/((Y=Math.ceil(G/a)+1)-1),G=m/((f=Math.ceil(m/a)+1)-1);m=n.Rectangle.northwest(t,i),a=n.Rectangle.center(t,l);0===r&&0===e||(a.longitude<m.longitude&&(a.longitude+=o.CesiumMath.TWO_PI),S=d.project(a,S));var f;X={granYCos:i=G,granYSin:0,granXCos:a=p,granXSin:0,nwCorner:m,boundingRectangle:s=n.Rectangle.clone(t,s),width:Y,height:f,northCap:M,southCap:X};return 0!==r&&(u=(m=w(m,r,p,G,0,Y,f)).north,C=m.south,c=m.east,h=m.west,X.granYCos=m.granYCos,X.granYSin=m.granYSin,X.granXCos=m.granXCos,X.granXSin=m.granXSin,s.north=u,s.south=C,s.east=c,s.west=h),0!==e&&(r-=e,f=w(g=n.Rectangle.northwest(s,g),r,p,G,0,Y,f),X.stGranYCos=f.granYCos,X.stGranXCos=f.granXCos,X.stGranYSin=f.granYSin,X.stGranXSin=f.granXSin,X.stNwCorner=g,X.stWest=f.west,X.stSouth=f.south),X},t.RectangleGeometryLibrary=h}));